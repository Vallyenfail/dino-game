"""
Задание 3.9: Пауза по клавише P

ПРОБЛЕМА:
Единственная кнопка паузы - ESC. Нет альтернативных вариантов.

РЕШЕНИЕ:
Добавить ещё одну кнопку паузы - P (от слова Pause).

================================================================================
ИЗМЕНЕНИЕ В game.py
================================================================================

Найдите в run_game() обработку клавиши ESC (строка ~180):

    if keys[pygame.K_ESCAPE]:
        if not self.pause_menu():
            return False

ПОСЛЕ ЭТОГО КОДА добавьте:

    # НОВЫЙ КОД: Альтернативная кнопка паузы
    if keys[pygame.K_p]:
        if not self.pause_menu():
            return False


ВАЖНО: Убедитесь что у вас метод pause_menu(), а не старый pause().
Если у вас старый метод pause(), сначала сделайте задание 3.3.

================================================================================
АЛЬТЕРНАТИВНЫЙ ВАРИАНТ: Одна переменная для обеих клавиш
================================================================================

Более элегантный способ - использовать переменную:
"""

# В run_game():
pause_pressed = keys[pygame.K_ESCAPE] or keys[pygame.K_p]

if pause_pressed:
    if not self.pause_menu():
        return False


"""
================================================================================
РАСШИРЕННАЯ ВЕРСИЯ: Показать подсказку о паузе
================================================================================

Можно добавить подсказку на экране:
"""

# В run_game(), после отображения счёта:
print_text('Score: ' + str(self.scores), 600, 10)
print_text('ESC or P - Pause', 600, 40, font_size=20)  # ДОБАВЛЕНО


"""
================================================================================
ВАРИАНТ С ЗАДЕРЖКОЙ (предотвращение двойного срабатывания)
================================================================================

Если пауза срабатывает слишком часто:
"""

# В __init__() добавить:
"""
self.pause_cooldown = 0
"""

# В run_game():
"""
# Уменьшаем кулдаун паузы
if self.pause_cooldown > 0:
    self.pause_cooldown -= 1

# Проверка паузы с кулдауном
if (keys[pygame.K_ESCAPE] or keys[pygame.K_p]) and self.pause_cooldown == 0:
    if not self.pause_menu():
        return False
    self.pause_cooldown = 30  # Кулдаун на 30 кадров
"""


"""
================================================================================
ПОЛНЫЙ КОД ДЛЯ КОПИРОВАНИЯ
================================================================================
"""

# ВАРИАНТ 1: Простое добавление (после ESC):
"""
if keys[pygame.K_ESCAPE]:
    if not self.pause_menu():
        return False

if keys[pygame.K_p]:
    if not self.pause_menu():
        return False
"""

# ВАРИАНТ 2: Элегантное решение:
"""
if keys[pygame.K_ESCAPE] or keys[pygame.K_p]:
    if not self.pause_menu():
        return False
"""

# ВАРИАНТ 3: С кулдауном (в __init__):
"""
self.pause_cooldown = 0
"""

# И в run_game():
"""
if self.pause_cooldown > 0:
    self.pause_cooldown -= 1

if (keys[pygame.K_ESCAPE] or keys[pygame.K_p]) and self.pause_cooldown == 0:
    if not self.pause_menu():
        return False
    self.pause_cooldown = 30
"""


"""
================================================================================
ОЖИДАЕМЫЙ РЕЗУЛЬТАТ
================================================================================

✅ Можно ставить игру на паузу клавишей P
✅ ESC продолжает работать
✅ Обе клавиши открывают одно и то же меню паузы

КАК ПРОВЕРИТЬ:
1. Запустите игру
2. Нажмите P - должна открыться пауза
3. Продолжите игру
4. Нажмите ESC - также должна открыться пауза
5. Обе клавиши работают одинаково

ПРИМЕЧАНИЕ:
Это очень простое задание - всего одна строка кода!
"""
